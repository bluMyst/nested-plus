<!DOCTYPE html>
<!-- saved from url=(0032)http://orteil.dashnet.org/nested -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=ansi">
    <title>Nested</title>
    <meta name="description" content="A simulation of everything. (by Orteil)">
    <meta name="keywords" content="nested, game, toy, webtoy, orteil, dashnet, universe, simulation of everything, doughnutverse, lasagnaverse, lobster">
    <meta name="author" content="Orteil">

    <!-- Hello Internet ! Welcome to my source code. If you wish to learn more about how this thing works, please visit /nestedscript.js . -->

    <!--
    History
    August  2016 : Ahto begins refactoring and porting the Javascript to Coffeescript.
    January 2014 : working on a sequel maybe
    January 2013 : added a bunch of new stuff
    January 2012 : finally cleaned up and uploaded
    January 2011 : coded most of Nested
    how's that for a healthy update cycle
    -->

    <!-- TODO: Favicon -->
    <link rel="shortcut icon" href="http://orteil.dashnet.org/favicon.ico">
    <link rel="stylesheet" type="text/css" href="./css/nestedstyle.css">

    <style type="text/css">
        .cf-hidden { display: none; }
        .cf-invisible { visibility: hidden; }
    </style>

    <script src='./js/jquery-3.1.0.min.js'></script>
</head><body>
    <div id="header" class="nav">
        Nested <span id="version">0.3...?</span>

        <span id="madeby">
            © <a href="http://orteil.dashnet.org/">Orteil</a>, 2011-2013
        </span>

        <span id="news"></span>

        <div id="styles">
            <!-- Filled in by the style code further down. -->
        </div>
    </div>


    <div id="debug">
        <br>
        <div id="div0" class="thing">
            <!--
            This is where the meat of the 'game' happens. It'll get filled
            in by javascript a little later.
            -->
        </div>
    </div>

    <div id="sidebar" class="nav">
        <div id="news">
            NEWS :<br>
            Added museums, nondescript prehistoric people, and some universe garnish.<br>
            Don't forget to check out the <a href="http://orteil.dashnet.org/gamegen">Game idea generator</a>!<br>
            (also : <a href="http://orteil42.tumblr.com/">tumblr</a>, <a href="https://twitter.com/Orteil42">twitter</a>)<br>
            <br>
            <br>
            <br>
            <a href="javascript:checkMissingThings();" style="font-size: 10px;">cmt</a>
        </div>
    </div>

    <script type="text/javascript" src="./coffee/compiled/nestedscript.js"></script>

    <script>
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        // This can be set to anything, like "firefighter" or "donut box".
        var seedObject = getParameterByName('seed');
        if (seedObject == null) seedObject = "universe";
        launchNest(seedObject.toLowerCase());

        // quick and dirty dynamic stylesheets (doesn't seem to work in IE, unfortunately)
        var sheet = document.createElement('style');
        sheet.id = "customstyle";
        document.body.appendChild(sheet);


        function SetStyle(which) {
            if (Styles[which].style) sheet.innerHTML = Styles[which].style;
        }

        var Styles = [];
        function Style(color, style) {
            this.color = color;
            this.style = style;
            Styles.push(this);
        }

        new Style("#fff",
            'body {background:#fff;}'+
            '.thing {border-color:#fff;}'
        );

        new Style("#8cf",
            'body {background:#8cf;}'+
            '.thing {border-color:#8cf;background:#bef;}'
        );

        new Style("#474",
            'body {background:#474;}'+
            '.thing {border-color:#141;background:#ada;}'+
            '.thing a:hover, .thing a:active {background:#141;color:#fff;}'+
            '.arrow {background:#141;}'
        );

        new Style("#953",
            'body {background:#953;}'+
            '.thing {border-color:#620;background:#c96;}'+
            '.thing a:hover, .thing a:active {background:#620;color:#fff;}'+
            '.arrow {background:#620;}'
        );

        new Style("#a97",
            'body {background:#a97;}'+
            '.thing {border-color:#a97;background:#cb9;font-family:Georgia,serif;font-size:10pt;box-shadow:0px 2px 2px #321;}'+
            '.thing, .thing a, .thing a:hover, .thing a:active {color:#321;}'+
            '.thing a:hover, .thing a:active {color:#852;background:transparent;text-shadow:0px 0px 2px #fff;}'+
            '.arrow {background:transparent;color:#321;}'
        );

        new Style("#ccc",
            '.thing{border-radius:10px;-moz-border-radius:10px;padding:5px;border-top:#fff solid 2px;border-left:#ddd solid 2px;border-right:#ddd solid 2px;border-bottom:#bbb solid 2px;-moz-box-shadow: 0px 2px 3px #000;padding-right:1px;}.arrow{border-radius:10px;-moz-border-radius:10px;padding-left:4px;padding-right:4px;}.thing a{border-radius:10px;-moz-border-radius:10px;}'
        );

        new Style("#000",
            'body {background:#000;}'+
            '.thing {border-color:#000;background:#222;color:#fff;}'+
            '.thing a {color:#fff;}'+
            '.thing a:active {background:#fff;color:#000;}'
        );

        new Style("#214",
            'body {background:url(images/UniverseBG.jpg);}'+
            '.thing {border-color:#fff;border-width:1px;background:transparent;color:#fff;box-shadow:0px 0px 8px #428,0px 0px 4px #fff inset;}'+
            '.thing a {color:#fff;background:rgba(0,0,0,0.5);}'+
            '.thing a:hover, .thing a:hover .arrow {background:#fff;color:#000;}'
        );

        var str = "";
        for (var i in Styles) {
            str += '<a href="javascript:SetStyle('+i+');" style="background-color:'+Styles[i].color+';">-</a>';
        }

        document.getElementById("styles").innerHTML = str;
    </script>
</body>
</html>
